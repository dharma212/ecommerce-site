{% extends "dashboard/base.html" %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h4 class="mb-0"><i class="fa-solid fa-image"></i> Banner List</h4>

  <div class="d-flex gap-2">
      <a href="{% url 'dashboard:Add_banner' %}" class="btn btn-outline-primary d-flex align-items-center gap-2">
        <i class="bi bi-image"></i>Add Banner</a>
    </div>
</div>

{% comment %} <!-- Django Messages -->
{% if messages %} {% for message in messages %}
<div class="alert alert-success">{{ message }}</div>
{% endfor %} {% endif %} {% endcomment %}

<div class="card">
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle text-center">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Banner Image</th>
            <th>Title</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>

        <tbody>
          {% for banner in banners %}
          <tr>
            <td>{{ forloop.counter }}</td>

            <td>
              {% if banner.image %}
              <img
                src="{{ banner.image.url }}"
                alt="Banner Image"
                style="height: 60px; width: auto; border-radius: 5px"
              />
              {% else %}
              <span class="text-muted">No Image</span>
              {% endif %}
            </td>

            <td>{{ banner.title|default:"â€”" }}</td>

            <td>
              <form action="{% url 'dashboard:banner_toggle' banner.id %}" method="post">
                {% csrf_token %}

                {% if banner.is_active %}
                  <button class="btn btn-sm btn-success" title="Click to Deactivate">
                    Active
                  </button>
                {% else %}
                  <button class="btn btn-sm btn-danger" title="Click to Activate">
                    Inactive
                  </button>
                {% endif %}
              </form>
            </td>
            <td>
              <form method="post" action="{% url 'dashboard:banner_delete' banner.id %}" class="d-inline">
                {% csrf_token %}
                  <button class="btn btn-sm btn-danger" title="Delete Banner">
                      <i class="bi bi-trash"></i>
                  </button>
              </form>
              <a href="{% url 'dashboard:banner_edit' banner.id %}" class="btn bg-primary text-light" title="Edit Category">
                <i class="bi bi-pencil"></i>
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center text-muted">No banners found</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock content %}
