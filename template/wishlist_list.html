{% extends "base.html" %} {% load static %} {% block content %}

<div class="wishlist-page">
  <!-- HEADER -->
  <h2 class="wishlist-title">My Wishlist ({{ wishlist_items.count }})</h2>

  {% if wishlist_items %}
  <!-- GRID -->
  <div class="wishlist-grid">
    {% for item in wishlist_items %}
    <div class="wishlist-card">
      <div class="wishlist-img">
        {% if item.product.productimage_set.first %}
        <img src="{{ item.product.productimage_set.first.photo.url }}" />
        {% else %}
        <img src="{% static 'images/no-image.png' %}" />
        {% endif %}
      </div>

      <div class="wishlist-info">
        <p class="product-name">{{ item.product.name }}</p>
        <p class="product-price">₹{{ item.product.price }}</p>
        <div>
          {% if item.product.discount %}
          <span class="Old-Price">
            ₹{{ item.product.price|add:item.product.discount }}
          </span>
          {% endif %}
        </div>
      </div>

      <div class="actions">
        <!-- Move to Cart Button -->
        <a
          class="save-later move-to-cart-btn"
          data-item-id="{{ item.id }}"
          data-url="{% url 'move_wishlist_to_cart' %}"
        >
          Move To Cart
      </a>

        <!-- Remove from Wishlist Button -->
        <a
          href="#"
          class="remove remove-from-wishlist-btn"
          data-item-id="{{ item.id }}"
        >
          Remove
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div
    style="
      background: #fff;
      padding: 60px 20px;
      text-align: center;
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    "
  >
    <img
      src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
      alt="Empty Wishlist"
      style="width: 200px; max-width: 100%; height: auto; opacity: 0.8"
    />

    <h3
      style="
        margin-top: 30px;
        font-weight: 600;
        color: #212121;
        font-family: sans-serif;
      "
    >
      Your Wishlist is empty!
    </h3>

    <p
      style="
        color: #878787;
        font-size: 14px;
        margin-top: 10px;
        font-family: sans-serif;
      "
    >
      Explore our top categories and add some items to your wishlist.
    </p>

    <div style="margin-top: 25px">
      <a
        href="/"
        style="
          background-color: #2874f0;
          color: #fff;
          padding: 12px 40px;
          text-decoration: none;
          font-size: 14px;
          font-weight: 600;
          border-radius: 2px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          transition: background 0.3s;
        "
      >
        START SHOPPING
      </a>
    </div>
  </div>
  {% endif %}
</div>

{% endblock %}
